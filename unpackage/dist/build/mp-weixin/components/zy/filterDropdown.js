(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/zy/filterDropdown"],{"0211":function(e,t,s){"use strict";var i=s("ea23"),n=s.n(i);n.a},"8d75":function(e,t,s){"use strict";s.r(t);var i=s("9ac3"),n=s("ce63");for(var u in n)"default"!==u&&function(e){s.d(t,e,(function(){return n[e]}))}(u);s("0211");var a,r=s("f0c5"),h=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],a);t["default"]=h.exports},"9ac3":function(e,t,s){"use strict";var i;s.d(t,"b",(function(){return n})),s.d(t,"c",(function(){return u})),s.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement;e._self._c},u=[]},"9de6":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{subData:[],menu:[],showPage:-1,pageState:[],activeMenuArr:[],shadowActiveMenuArr:[],defaultActive:[],triangleDeg:[],isShowMask:!1,maskVisibility:!1,firstScrollInto:0,secondScrollInto:0,componentTop:0,isReadNewSelect:!1}},props:{menuTop:{value:Number,default:!1},filterData:{value:Array,default:[]},defaultSelected:{value:Array,default:[]},updateMenuName:{value:Boolean,default:!0},dataFormat:{value:String,default:"Array"}},watch:{filterData:{handler:function(){this.initMenu()},immediate:!0},defaultSelected:function(e){0!=e.length&&(this.defaultActive=JSON.parse(JSON.stringify(e)),this.activeMenuArr=JSON.parse(JSON.stringify(e)),this.shadowActiveMenuArr=JSON.parse(JSON.stringify(e)),this.updateMenuName&&this.setMenuName())}},methods:{initMenu:function(){for(var e=[],t=[],s=0;s<this.filterData.length;s++){var i=this.filterData[s];t.push({name:i.name||("filter"==i.type?"筛选":i.submenu[0].name),type:i.type}),e.push(this.processActive(i)),this.triangleDeg.push(0),this.pageState.push(!1),i=this.processSubMenu(i),this.filterData[s]=i}this.menu=t,e=this.defaultActive.length>0?this.defaultActive:this.activeMenuArr.length>0?this.activeMenuArr:e,this.defaultActive=[],this.activeMenuArr=JSON.parse(JSON.stringify(e)),this.shadowActiveMenuArr=JSON.parse(JSON.stringify(e)),this.subData=this.filterData,this.updateMenuName&&this.setMenuName()},setMenuName:function(){for(var e=0;e<this.activeMenuArr.length;e++){var t=this.activeMenuArr[e];if("hierarchy"==this.subData[e].type)if("number"==typeof t[0]){var s=this.subData[e].submenu[t[0]];t.length>1&&(s=s.submenu[t[1]],t.length>2&&(s=s.submenu[t[2]])),this.menu[e].name=s.name}else this.menu[e].name=this.subData[e].name}},showMoreSub:function(e){this.subData[this.showPage].submenu[this.activeMenuArr[this.showPage][0]].submenu[e].showAllSub=!0,this.$forceUpdate()},selectHierarchyMenu:function(e,t,s,i){if(null!=t&&null==s&&null==i&&this.shadowActiveMenuArr[e][0]==t?this.activeMenuArr.splice(e,1,JSON.parse(JSON.stringify(this.shadowActiveMenuArr[e]))):(this.activeMenuArr[e].splice(0,1,t),(null!=s||this.activeMenuArr[e].length>=2)&&this.activeMenuArr[e].splice(1,1,s)||this.activeMenuArr[e].splice(1,1),(null!=i||this.activeMenuArr[e].length>=3)&&this.activeMenuArr[e].splice(2,1,i)||this.activeMenuArr[e].splice(2,1)),null!=i||null!=s||null!=t&&0==this.subData[e].submenu[t].submenu.length){var n=this.subData[e].submenu[t].submenu[s];this.updateMenuName&&(this.menu[e].name=null!=i&&n.submenu[i].name||null!=s&&n.name||this.subData[e].submenu[t].name),this.shadowActiveMenuArr[e]=JSON.parse(JSON.stringify(this.activeMenuArr[e])),this.togglePage(this.showPage)}},setFilterData:function(e){this.shadowActiveMenuArr[e]=JSON.parse(JSON.stringify(this.activeMenuArr[e])),this.togglePage(this.showPage)},resetFilterData:function(e){var t=[],s=this.shadowActiveMenuArr[e].length;while(s>0){t.push([]);for(var i=this.subData[e].submenu[s-1].submenu,n=0;n<i.length;n++)this.subData[e].submenu[s-1].submenu[n].selected=!1;s--}this.activeMenuArr[e]=JSON.parse(JSON.stringify(t)),this.$forceUpdate()},selectFilterLabel:function(e,t,s){var i=this.activeMenuArr[e][t].indexOf(s);i>-1?(this.activeMenuArr[e][t].splice(i,1),this.subData[e].submenu[t].submenu[s].selected=!1):(this.activeMenuArr[e][t].push(s),this.subData[e].submenu[t].submenu[s].selected=!0),this.$forceUpdate()},selectRadioLabel:function(e,t,s){var i=this.activeMenuArr[e][t][0];i==s?(this.subData[e].submenu[t].submenu[i].selected=!1,this.activeMenuArr[e][t][0]=null):(null!=i&&i<this.subData[e].submenu[t].submenu.length&&(this.subData[e].submenu[t].submenu[i].selected=!1),this.subData[e].submenu[t].submenu[s].selected=!0,this.activeMenuArr[e][t][0]=s),this.$forceUpdate()},togglePage:function(e){e==this.showPage?(this.hidePageLayer(!0),this.hideMask(),this.showPage=-1):(this.showPage>-1&&this.hidePageLayer(!1),this.showPageLayer(e),this.showMask())},hideMask:function(){var e=this;this.isShowMask=!1,setTimeout((function(){e.maskVisibility=!1}),200)},showMask:function(){var e=this;this.maskVisibility=!0,this.$nextTick((function(){setTimeout((function(){e.isShowMask=!0}),0)}))},hidePageLayer:function(e){var t=this;this.triangleDeg[this.showPage]=0;var s=this.showPage;e?(setTimeout((function(){t.pageState.splice(s,1,!1)}),200),this.confirm()):this.pageState.splice(s,1,!1),this.firstScrollInto=null,this.secondScrollInto=null},confirm:function(){var e=this,t=JSON.parse(JSON.stringify(this.shadowActiveMenuArr)),s=JSON.parse(JSON.stringify(this.shadowActiveMenuArr));t.forEach((function(i,n){if("object"==typeof i[0])i.forEach((function(u,a){null!=u&&(u.sort((function(e,t){return e-t})),i[a]=u,u.forEach((function(i,u){s[n][a][u]=null==i||i>=e.subData[n].submenu[a].submenu.length?null:e.subData[n].submenu[a].submenu[i].value,"radio"==e.subData[n].type&&null==s[n][a][u]&&(s[n][a]=[],t[n][a]=[])})))}));else{var u=e.subData[n].submenu[i[0]];s[n][0]=u.value,s[n].length>=2&&null!=i[1]&&(u.submenu.length>0?(u=u.submenu[i[1]],s[n][1]=u.hasOwnProperty("value")?u.value:null):s[n][1]=null,s[n].length>=3&&null!=i[2]&&(u.submenu.length>0?(u=u.submenu[i[2]],s[n][2]=u.hasOwnProperty("value")?u.value:null):s[n][2]=null))}t[n]=i})),this.$emit("confirm",{index:t,value:s})},showPageLayer:function(e){var t=this;this.processPage(e),this.pageState.splice(e,1,!0),this.$nextTick((function(){setTimeout((function(){t.showPage=e}),0)})),this.triangleDeg[e]=180},reloadActiveMenuArr:function(){for(var e=0;e<this.filterData.length;e++){var t=this.filterData[e],s=this.processActive(t);t=this.processSubMenu(t),this.activeMenuArr[e].length!=s.length&&(this.filterData[e]=t,this.activeMenuArr.splice(e,1,JSON.parse(JSON.stringify(s))),this.shadowActiveMenuArr.splice(e,1,JSON.parse(JSON.stringify(s))))}this.subData=this.filterData,this.$forceUpdate()},processPage:function(e){var t=this;if(this.reloadActiveMenuArr(),this.activeMenuArr.splice(e,1,JSON.parse(JSON.stringify(this.shadowActiveMenuArr[e]))),"filter"==this.menu[e].type)for(var s=this.shadowActiveMenuArr[e].length,i=0;i<s;i++)for(var n=this.subData[e].submenu[i].submenu,u=0;u<n.length;u++)this.shadowActiveMenuArr[e][i].indexOf(u)>-1?this.subData[e].submenu[i].submenu[u].selected=!0:this.subData[e].submenu[i].submenu[u].selected=!1;else if("hierarchy"==this.menu[e].type)this.$nextTick((function(){setTimeout((function(){t.firstScrollInto=parseInt(t.activeMenuArr[e][0]),t.secondScrollInto=parseInt(t.activeMenuArr[e][1])}),0)}));else if("radio"==this.menu[e].type)for(var a=this.shadowActiveMenuArr[e].length,r=0;r<a;r++)for(var h=this.subData[e].submenu[r].submenu,l=0;l<h.length;l++)this.shadowActiveMenuArr[e][r].indexOf(l)>-1?this.subData[e].submenu[r].submenu[l].selected=!0:this.subData[e].submenu[r].submenu[l].selected=!1},processActive:function(e){var t=[];if("hierarchy"==e.type&&e.hasOwnProperty("submenu")&&e.submenu.length>0){var s=this.getMaxFloor(e.submenu);while(s>0)t.push(null),s--}else if("filter"==e.type){var i=e.submenu.length;while(i>0)t.push([]),i--}else if("radio"==e.type){var n=e.submenu.length;while(n>0)t.push([]),n--}return t},processSubMenu:function(e){if(e.hasOwnProperty("submenu")&&e.submenu.length>0)for(var t=0;t<e.submenu.length;t++)e.submenu[t]=this.processSubMenu(e.submenu[t]);else e.submenu=[];return e},getMaxFloor:function(e){var t=0;function s(e,i){e.forEach((function(e){t=i>t?i:t,e.hasOwnProperty("submenu")&&e.submenu.length>0&&s(e.submenu,i+1)}))}return s(e,1),t},discard:function(){}}};t.default=i},ce63:function(e,t,s){"use strict";s.r(t);var i=s("9de6"),n=s.n(i);for(var u in i)"default"!==u&&function(e){s.d(t,e,(function(){return i[e]}))}(u);t["default"]=n.a},ea23:function(e,t,s){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/zy/filterDropdown-create-component',
    {
        'components/zy/filterDropdown-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("8d75"))
        })
    },
    [['components/zy/filterDropdown-create-component']]
]);
